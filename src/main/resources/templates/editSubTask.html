<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="da">
<head>
    <meta charset="UTF-8">
    <title>CoolPlanner | Rediger delopgave</title>
    <link rel="stylesheet" th:href="@{/style.css}">
</head>
<body>

<div th:replace="~{fragments/commonfragments :: navbar}"></div>

<main class="page">
    <section class="glass form-card">
        <h1>Rediger delopgave</h1>
        <p class="meta-text">Opdater oplysninger for delopgaven.</p>

        <form th:action="@{/updateSubTask}" th:object="${subTask}" method="post">

            <input type="hidden" th:field="*{subTaskId}" />
            <input type="hidden" th:field="*{taskId}" />

            <label for="subTaskName">Navn på delopgave</label>
            <input id="subTaskName" type="text" th:field="*{subTaskName}" required/>

            <label for="subTaskDetails">Beskrivelse</label>
            <textarea id="subTaskDetails" th:field="*{subTaskDetails}"></textarea>

            <label for="subTaskStartDate">Startdato</label>
            <input id="subTaskStartDate" type="date" th:field="*{subTaskStartDate}" required/>

            <label for="subTaskDeadLine">Deadline</label>
            <input id="subTaskDeadLine" type="date" th:field="*{subTaskDeadLine}" required/>

            <label for="subTaskTimeEstimate">Tidsestimat (timer)</label>
            <input id="subTaskTimeEstimate" type="number" step="0.5" th:field="*{subTaskTimeEstimate}"/>

            <input id="subTaskActualTime" type="hidden" step="0.5" th:field="*{subTaskActualTime}"/>

            <label for="subTaskStatus">Status</label>
            <select id="subTaskStatus" th:field="*{subTaskStatus}">
                <option th:value="Ikke_startet">Ikke startet</option>
                <option th:value="I_gang">I gang</option>
                <option th:value="Afsluttet">Afsluttet</option>
            </select>

            <label for="employee">Ansvarlig</label>
            <select id="employee" th:field="*{employeeId}" required>
                <option th:value="0" disabled>Vælg medarbejder</option>
                <option th:each="emp : ${employees}"
                        th:value="${emp.getEmployeeId()}"
                        th:text="${emp.getEmployeeId() + ' - ' + emp.getFirstName() + ' ' + emp.getLastName()}">
                </option>
            </select>

            <div class="button-row">
                <button type="submit" class="btn-primary">Gem ændringer</button>
                <a th:href="@{/dashboard/show}" class="btn-ghost">Annuller</a>
            </div>
        </form>
    </section>
</main>

<div th:replace="~{fragments/commonfragments :: footer}"></div>
</body>
</html>